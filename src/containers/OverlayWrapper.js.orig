import React from 'react';
import { connect } from 'react-redux';
<<<<<<< HEAD
||||||| merged common ancestors
import { toggleOverlayVisibility } from '../actions/overlay';
=======
import { toggleOverlayVisibility } from '../actions/overlay';
import {
  setShareTopicType,
  shareOrOpenTopic,
} from '../actions/selectTopic';
>>>>>>> commit before rollback and refactor

import helpers from '../constants/helperFunctions';
import { toggleOverlayVisibility } from '../actions/overlay';
import Overlay from '../components/DndOverlay/Overlay';

const OverlayWrapper = (props) => (
  <Overlay
    {...props }
    handleCloseOverlay={(id) => props.toggleOverlay(id)}
    emailDroppedItem={(item) => helpers.emailDroppedItem(item)}
    openDroppedItemOnReddit={(item) => helpers.openDroppedItemOnReddit(item)}
  />
)
const mapStateToProps = ({ overlay, topic, lastDroppedItem }) => ({
  overlayIsVisible: overlay.isVisible,
  dndLinkAccepts: overlay.dndLinkAccepts,
  ...topic
})
const mapDispatchToProps = (dispatch) => ({
<<<<<<< HEAD
  // (only toggle visibility when the '#Overlay' background is clicked)
  toggleOverlay: (id) =>
    (id === 'Overlay' || id === 'Overlay-DndContainer') && dispatch(toggleOverlayVisibility()),
||||||| merged common ancestors
  shareRedditTopic: (topic, type) => console.log(topic, type),
    // (only toggle visibility when the '#Overlay' background is clicked)
  toggleOverlay: (id) => id === 'Overlay' && dispatch(toggleOverlayVisibility()),
=======
  // Kind of a pain - 'drop' events
  setShareType: (topic, type) => dispatch(setShareTopicType(topic, type)),
  dispatchShareTopic: (topic) => dispatch(shareOrOpenTopic(topic)),
  // (only toggle visibility when the '#Overlay' background is clicked)
  toggleOverlay: (id) => id === 'Overlay' && dispatch(toggleOverlayVisibility()),
>>>>>>> commit before rollback and refactor
})

export default connect(mapStateToProps, mapDispatchToProps)(OverlayWrapper)
